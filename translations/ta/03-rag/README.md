<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "f538a51cfd13147d40d84e936a0f485c",
  "translation_date": "2025-12-13T17:26:28+00:00",
  "source_file": "03-rag/README.md",
  "language_code": "ta"
}
-->
# Module 03: RAG (Retrieval-Augmented Generation)

## Table of Contents

- [What You'll Learn](../../../03-rag)
- [Prerequisites](../../../03-rag)
- [Understanding RAG](../../../03-rag)
- [How It Works](../../../03-rag)
  - [Document Processing](../../../03-rag)
  - [Creating Embeddings](../../../03-rag)
  - [Semantic Search](../../../03-rag)
  - [Answer Generation](../../../03-rag)
- [Run the Application](../../../03-rag)
- [Using the Application](../../../03-rag)
  - [Upload a Document](../../../03-rag)
  - [Ask Questions](../../../03-rag)
  - [Check Source References](../../../03-rag)
  - [Experiment with Questions](../../../03-rag)
- [Key Concepts](../../../03-rag)
  - [Chunking Strategy](../../../03-rag)
  - [Similarity Scores](../../../03-rag)
  - [In-Memory Storage](../../../03-rag)
  - [Context Window Management](../../../03-rag)
- [When RAG Matters](../../../03-rag)
- [Next Steps](../../../03-rag)

## What You'll Learn

роорпБроирпНродрпИроп рооро╛роЯрпНропрпВро▓рпНроХро│ро┐ро▓рпН, роирпАроЩрпНроХро│рпН AI роЙроЯройрпН роЙро░рпИропро╛роЯро▓рпНроХро│рпИ роОро╡рпНро╡ро╛ро▒рпБ роироЯродрпНродрпБро╡родрпБ рооро▒рпНро▒рпБроорпН роЙроЩрпНроХро│рпН рокрпНро░ро╛роорпНрокрпНроЯрпНроХро│рпИ роОро╡рпНро╡ро╛ро▒рпБ роЪро┐ро▒рокрпНрокро╛роХ роЕроорпИрокрпНрокродрпБ роОройрпНрокродрпИ роХро▒рпНро▒рпБроХрпНроХрпКрогрпНроЯрпАро░рпНроХро│рпН. роЖройро╛ро▓рпН роТро░рпБ роЕроЯро┐рокрпНрокроЯрпИропро╛рой ро╡ро░роорпНрокрпБ роЙро│рпНро│родрпБ: роорпКро┤ро┐ рооро╛родро┐ро░ро┐роХро│рпН рокропро┐ро▒рпНроЪро┐ропро┐ройрпН рокрпЛродрпБ роХро▒рпНро▒рпБроХрпНроХрпКрогрпНроЯродрпИропрпЗ роороЯрпНроЯрпБроорпЗ роЕро▒ро┐ро╡родрпБ. роЕро╡рпИ роЙроЩрпНроХро│рпН роиро┐ро▒рпБро╡ройродрпНродро┐ройрпН роХрпКро│рпНроХрпИроХро│рпН, роЙроЩрпНроХро│рпН родро┐роЯрпНроЯ роЖро╡рогроЩрпНроХро│рпН роЕро▓рпНро▓родрпБ рокропро┐ро▒рпНроЪро┐ рокрпЖро▒ро╛род роОроирпНрод родроХро╡ро▓рпИропрпБроорпН рокродро┐ро▓ро│ро┐роХрпНроХ роорпБроЯро┐ропро╛родрпБ.

RAG (Retrieval-Augmented Generation) роЗроирпНрод рокро┐ро░роЪрпНроЪройрпИропрпИ родрпАро░рпНроХрпНроХро┐ро▒родрпБ. рооро╛родро┐ро░ро┐роХрпНроХрпБ роЙроЩрпНроХро│рпН родроХро╡ро▓рпИ роХро▒рпНрокро┐роХрпНроХ роорпБропро▒рпНроЪро┐рокрпНрокродро▒рпНроХрпБрокрпН рокродро┐ро▓ро╛роХ (роЕродрпБ роЪрпЖро▓ро╡ро╛ройродрпБроорпН роироЯрпИроорпБро▒рпИрокрпВро░рпНро╡рооро▓рпНро▓ро╛родродрпБроорпН), роирпАроЩрпНроХро│рпН роЕродро▒рпНроХрпБ роЙроЩрпНроХро│рпН роЖро╡рогроЩрпНроХро│рпИ родрпЗроЯрпБро╡родро▒рпНроХро╛рой родро┐ро▒ройрпИ ро╡ро┤роЩрпНроХрпБроХро┐ро▒рпАро░рпНроХро│рпН. ропро╛ро░ро╛ро╡родрпБ роХрпЗро│рпНро╡ро┐ роХрпЗроЯрпНроЯро╛ро▓рпН, роЕроорпИрокрпНрокрпБ родрпКроЯро░рпНрокрпБроЯрпИроп родроХро╡ро▓рпИ роХрогрпНроЯрпБрокро┐роЯро┐родрпНродрпБ рокрпНро░ро╛роорпНрокрпНроЯро┐ро▓рпН роЪрпЗро░рпНроХрпНроХро┐ро▒родрпБ. рокро┐ройрпНройро░рпН рооро╛родро┐ро░ро┐ роЕроирпНрод роорпАроЯрпНроЯрпЖроЯрпБроХрпНроХрокрпНрокроЯрпНроЯ роЪрпВро┤ро▓рпИ роЕроЯро┐рокрпНрокроЯрпИропро╛роХроХрпН роХрпКрогрпНроЯрпБ рокродро┐ро▓ро│ро┐роХрпНроХро┐ро▒родрпБ.

RAG роР рооро╛родро┐ро░ро┐роХрпНроХрпБ роТро░рпБ роХрпБро▒ро┐рокрпНрокрпБ роирпВро▓роХроорпН ро╡ро┤роЩрпНроХрпБро╡родрпБ рокрпЛро▓ роиро┐ройрпИродрпНродрпБроХрпН роХрпКро│рпНро│рпБроЩрпНроХро│рпН. роирпАроЩрпНроХро│рпН роХрпЗро│рпНро╡ро┐ роХрпЗроЯрпНроЯро╛ро▓рпН, роЕроорпИрокрпНрокрпБ:

1. **рокропройро░рпН роХрпЗро│рпНро╡ро┐** - роирпАроЩрпНроХро│рпН роТро░рпБ роХрпЗро│рпНро╡ро┐ роХрпЗроЯрпНроХро┐ро▒рпАро░рпНроХро│рпН
2. **роОроорпНрокрпЖроЯрпНроЯро┐роЩрпН** - роЙроЩрпНроХро│рпН роХрпЗро│рпНро╡ро┐ропрпИ роТро░рпБ ро╡рпЖроХрпНроЯро░рпН роЖроХ рооро╛ро▒рпНро▒рпБроХро┐ро▒родрпБ
3. **ро╡рпЖроХрпНроЯро░рпН родрпЗроЯро▓рпН** - роТродрпНрод роЖро╡рог родрпБрогрпНроЯрпБроХро│рпИ роХрогрпНроЯрпБрокро┐роЯро┐роХрпНроХро┐ро▒родрпБ
4. **роЪрпВро┤ро▓рпН родрпКроХрпБрокрпНрокрпБ** - родрпКроЯро░рпНрокрпБроЯрпИроп родрпБрогрпНроЯрпБроХро│рпИ рокрпНро░ро╛роорпНрокрпНроЯро┐ро▓рпН роЪрпЗро░рпНроХрпНроХро┐ро▒родрпБ
5. **рокродро┐ро▓рпН** - LLM роЕроирпНрод роЪрпВро┤ро▓рпИ роЕроЯро┐рокрпНрокроЯрпИропро╛роХроХрпН роХрпКрогрпНроЯрпБ рокродро┐ро▓рпН роЙро░рпБро╡ро╛роХрпНроХрпБроХро┐ро▒родрпБ

роЗродрпБ рооро╛родро┐ро░ро┐ропро┐ройрпН рокродро┐ро▓рпНроХро│рпИ роЕродройрпН рокропро┐ро▒рпНроЪро┐ роЕро▒ро┐ро╡рпБроХрпНроХрпБ рокродро┐ро▓ро╛роХ роЙроЩрпНроХро│рпН роЙрогрпНроорпИропро╛рой родро░ро╡ро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН роиро┐ро▓рпИроиро┐ро▒рпБродрпНродрпБроХро┐ро▒родрпБ роЕро▓рпНро▓родрпБ рокродро┐ро▓рпНроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родрпИроХрпН роХрпБро▒рпИроХрпНроХро┐ро▒родрпБ.

<img src="../../../translated_images/rag-architecture.ccb53b71a6ce407f.ta.png" alt="RAG Architecture" width="800"/>

*RAG ро╡рпЗро▓рпИроироЯрпИ - рокропройро░рпН роХрпЗро│рпНро╡ро┐ропро┐ро▓ро┐ро░рпБроирпНродрпБ роЕро░рпНродрпНродро╡ро┐ропро▓рпН родрпЗроЯро▓рпН рооро▒рпНро▒рпБроорпН роЪрпВро┤ро▓рпН роЪро╛ро░рпНроирпНрод рокродро┐ро▓рпН роЙро░рпБро╡ро╛роХрпНроХроорпН ро╡ро░рпИ*

## Prerequisites

- Module 01 роорпБроЯро┐роХрпНроХрокрпНрокроЯрпНроЯродрпБ (Azure OpenAI ро╡ро│роЩрпНроХро│рпН роиро┐ро▒рпБро╡рокрпНрокроЯрпНроЯрпБро│рпНро│рой)
- ро░рпВроЯрпН роЕроЯрпИро╡ро┐ро▓рпН `.env` роХрпЛрокрпНрокрпБ Azure роЕроЩрпНроХрпАроХро╛ро░роЩрпНроХро│рпБроЯройрпН роЙро│рпНро│родрпБ (Module 01 роЗро▓рпН `azd up` роорпВро▓роорпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯродрпБ)

> **Note:** роирпАроЩрпНроХро│рпН Module 01 роорпБроЯро┐роХрпНроХро╡ро┐ро▓рпНро▓рпИ роОройрпНро▒ро╛ро▓рпН, роорпБродро▓ро┐ро▓рпН роЕроЩрпНроХрпБ роЙро│рпНро│ роиро┐ро▒рпБро╡ро▓рпН ро╡ро┤ро┐роорпБро▒рпИроХро│рпИ рокро┐ройрпНрокро▒рпНро▒ро╡рпБроорпН.


## How It Works

**Document Processing** - [DocumentService.java](../../../03-rag/src/main/java/com/example/langchain4j/rag/service/DocumentService.java)

роирпАроЩрпНроХро│рпН роТро░рпБ роЖро╡рогродрпНродрпИ рокродро┐ро╡рпЗро▒рпНро▒рпБроорпНрокрпЛродрпБ, роЕроорпИрокрпНрокрпБ роЕродрпИ родрпБрогрпНроЯрпБроХро│ро╛роХрокрпН рокро┐ро░ро┐роХрпНроХро┐ро▒родрпБ - рооро╛родро┐ро░ро┐ропро┐ройрпН роЪрпВро┤ро▓рпН роЬройрпНройро▓ро┐ро▓рпН роЪрпМроХро░ро┐ропрооро╛роХ рокрпКро░рпБроирпНродрпБроорпН роЪро┐ро▒ро┐роп родрпБрогрпНроЯрпБроХро│рпН. роЗроирпНрод родрпБрогрпНроЯрпБроХро│рпН роЪро┐ро▒ро┐родрпБ роЕро│ро╡рпБ роТроЯрпНроЯро┐роХрпНроХрпКрогрпНроЯрпБ роЗро░рпБроХрпНроХрпБроорпН, роЗродройро╛ро▓рпН роОро▓рпНро▓рпИроХро│ро┐ро▓рпН роЪрпВро┤ро▓рпН роЗро┤рокрпНрокродро┐ро▓рпНро▓рпИ.

```java
Document document = FileSystemDocumentLoader.loadDocument("sample-document.txt");

DocumentSplitter splitter = DocumentSplitters
    .recursive(300, 30, new OpenAiTokenizer());

List<TextSegment> segments = splitter.split(document);
```

> **ЁЯдЦ Try with [GitHub Copilot](https://github.com/features/copilot) Chat:** Open [`DocumentService.java`](../../../03-rag/src/main/java/com/example/langchain4j/rag/service/DocumentService.java) and ask:
> - "How does LangChain4j split documents into chunks and why is overlap important?"
> - "What's the optimal chunk size for different document types and why?"
> - "How do I handle documents in multiple languages or with special formatting?"

**Creating Embeddings** - [LangChainRagConfig.java](../../../03-rag/src/main/java/com/example/langchain4j/rag/config/LangChainRagConfig.java)

роТро╡рпНро╡рпКро░рпБ родрпБрогрпНроЯрпБроорпН роОроорпНрокрпЖроЯрпНроЯро┐роЩрпН роОройрокрпНрокроЯрпБроорпН роОрогрпНроХрогро┐род рокро┐ро░родро┐роиро┐родро┐родрпНродрпБро╡рооро╛роХ рооро╛ро▒рпНро▒рокрпНрокроЯрпБроХро┐ро▒родрпБ - роЗродрпБ роЙро░рпИропро┐ройрпН рокрпКро░рпБро│рпИ рокро┐роЯро┐роХрпНроХрпБроорпН роХрогро┐род ро░рпЗроХрпИроЪрпНроЪрпАроЯрпНроЯрпБ. роТродрпНрод роЙро░рпИроХро│рпН роТродрпНрод роОроорпНрокрпЖроЯрпНроЯро┐роЩрпНроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН.

```java
@Bean
public EmbeddingModel embeddingModel() {
    return OpenAiOfficialEmbeddingModel.builder()
        .baseUrl(azureOpenAiEndpoint)
        .apiKey(azureOpenAiKey)
        .modelName(azureEmbeddingDeploymentName)
        .build();
}

EmbeddingStore<TextSegment> embeddingStore = 
    new InMemoryEmbeddingStore<>();
```

<img src="../../../translated_images/vector-embeddings.2ef7bdddac79a327.ta.png" alt="Vector Embeddings Space" width="800"/>

*роОроорпНрокрпЖроЯрпНроЯро┐роЩрпН роЗроЯродрпНродро┐ро▓рпН ро╡рпЖроХрпНроЯро░рпНроХро│ро╛роХ рокро┐ро░родро┐роиро┐родро┐родрпНродрпБро╡роорпН роЪрпЖропрпНропрокрпНрокроЯрпНроЯ роЖро╡рогроЩрпНроХро│рпН - роТродрпНрод роЙро│рпНро│роЯроХрпНроХроорпН роТройрпНро▒ро╛роХ роХрпВроЯро┐ роЗро░рпБроХрпНроХрпБроорпН*

**Semantic Search** - [RagService.java](../../../03-rag/src/main/java/com/example/langchain4j/rag/service/RagService.java)

роирпАроЩрпНроХро│рпН роХрпЗро│рпНро╡ро┐ роХрпЗроЯрпНроЯро╛ро▓рпН, роЙроЩрпНроХро│рпН роХрпЗро│рпНро╡ро┐ропрпБроорпН роТро░рпБ роОроорпНрокрпЖроЯрпНроЯро┐роЩрпНроХро╛роХ рооро╛ро▒рпБроорпН. роЕроорпИрокрпНрокрпБ роЙроЩрпНроХро│рпН роХрпЗро│рпНро╡ро┐ропро┐ройрпН роОроорпНрокрпЖроЯрпНроЯро┐роЩрпНроХрпИ роЕройрпИродрпНродрпБ роЖро╡рог родрпБрогрпНроЯрпБроХро│ро┐ройрпН роОроорпНрокрпЖроЯрпНроЯро┐роЩрпНроХро│рпБроЯройрпН роТрокрпНрокро┐роЯрпБроХро┐ро▒родрпБ. роЕродрпБ рооро┐роХ роТродрпНрод рокрпКро░рпБро│рпН роХрпКрогрпНроЯ родрпБрогрпНроЯрпБроХро│рпИ роХрогрпНроЯрпБрокро┐роЯро┐роХрпНроХро┐ро▒родрпБ - ро╡рпЖро▒рпБроорпН роорпБроХрпНроХро┐роп ро╡ро╛ро░рпНродрпНродрпИроХро│рпН рокрпКро░рпБроирпНродрпБро╡родро▓рпНро▓, роЙрогрпНроорпИропро╛рой роЕро░рпНродрпНрод роТродрпНродро┐роЪрпИро╡рпБ.

```java
Embedding queryEmbedding = embeddingModel.embed(question).content();

List<EmbeddingMatch<TextSegment>> matches = 
    embeddingStore.findRelevant(queryEmbedding, 5, 0.7);

for (EmbeddingMatch<TextSegment> match : matches) {
    String relevantText = match.embedded().text();
    double score = match.score();
}
```

> **ЁЯдЦ Try with [GitHub Copilot](https://github.com/features/copilot) Chat:** Open [`RagService.java`](../../../03-rag/src/main/java/com/example/langchain4j/rag/service/RagService.java) and ask:
> - "How does similarity search work with embeddings and what determines the score?"
> - "What similarity threshold should I use and how does it affect results?"
> - "How do I handle cases where no relevant documents are found?"

**Answer Generation** - [RagService.java](../../../03-rag/src/main/java/com/example/langchain4j/rag/service/RagService.java)

рооро┐роХро╡рпБроорпН родрпКроЯро░рпНрокрпБроЯрпИроп родрпБрогрпНроЯрпБроХро│рпН рооро╛родро┐ро░ро┐роХрпНроХрпБ рокрпНро░ро╛роорпНрокрпНроЯро┐ро▓рпН роЪрпЗро░рпНроХрпНроХрокрпНрокроЯрпБроХро┐ройрпНро▒рой. рооро╛родро┐ро░ро┐ роЕроирпНрод роХрпБро▒ро┐рокрпНрокро┐роЯрпНроЯ родрпБрогрпНроЯрпБроХро│рпИрокрпН рокроЯро┐родрпНродрпБ, роЕроирпНрод родроХро╡ро▓ро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН роЙроЩрпНроХро│рпН роХрпЗро│рпНро╡ро┐роХрпНроХрпБ рокродро┐ро▓ро│ро┐роХрпНроХро┐ро▒родрпБ. роЗродрпБ рооро╛ропрпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родрпИродрпН родроЯрпБроХрпНроХрпБроорпН - рооро╛родро┐ро░ро┐ роорпБройрпНройро┐ро▓рпИропро┐ро▓рпН роЙро│рпНро│родрпИропрпЗ роороЯрпНроЯрпБроорпЗ рокродро┐ро▓ро│ро┐роХрпНроХ роорпБроЯро┐ропрпБроорпН.

## Run the Application

**Verify deployment:**

ро░рпВроЯрпН роЕроЯрпИро╡ро┐ро▓рпН `.env` роХрпЛрокрпНрокрпБ Azure роЕроЩрпНроХрпАроХро╛ро░роЩрпНроХро│рпБроЯройрпН роЙро│рпНро│родрпБ роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН (Module 01 роЗро▓рпН роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпНроЯродрпБ):
```bash
cat ../.env  # AZURE_OPENAI_ENDPOINT, API_KEY, DEPLOYMENT роР роХро╛роЯрпНроЯ ро╡рпЗрогрпНроЯрпБроорпН
```

**Start the application:**

> **Note:** роирпАроЩрпНроХро│рпН роПро▒рпНроХройро╡рпЗ Module 01 роЗро▓рпН роЗро░рпБроирпНродрпБ `./start-all.sh` рокропройрпНрокроЯрпБродрпНродро┐ роЕройрпИродрпНродрпБ роЪрпЖропро▓ро┐роХро│рпИропрпБроорпН родрпБро╡роХрпНроХро┐ропро┐ро░рпБроирпНродро╛ро▓рпН, роЗроирпНрод рооро╛роЯрпНропрпВро▓рпН 8081 рокрпЛро░рпНроЯро┐ро▓рпН роЗропроЩрпНроХро┐роХрпН роХрпКрогрпНроЯро┐ро░рпБроХрпНроХро┐ро▒родрпБ. роХрпАро┤рпБро│рпНро│ родрпБро╡роХрпНроХ роХроЯрпНроЯро│рпИроХро│рпИ родро╡ро┐ро░рпНродрпНродрпБ роирпЗро░роЯро┐ропро╛роХ http://localhost:8081 роЪрпЖро▓рпНро▓ро▓ро╛роорпН.

**Option 1: Using Spring Boot Dashboard (Recommended for VS Code users)**

роЯрпЖро╡рпН роХройрпНроЯрпЖропрпНройро░рпН Spring Boot Dashboard ро╡ро┐ро░ро┐ро╡ро╛роХрпНроХродрпНродрпБроЯройрпН ро╡ро░рпБроХро┐ро▒родрпБ, роЗродрпБ роЕройрпИродрпНродрпБ Spring Boot роЪрпЖропро▓ро┐роХро│рпИропрпБроорпН роХрпИропро╛ро│ роТро░рпБ роХро╛роЯрпНроЪро┐ роЗроЯрпИроорпБроХродрпНродрпИ ро╡ро┤роЩрпНроХрпБроХро┐ро▒родрпБ. роЗродрпБ VS Code роЗройрпН роЗроЯродрпБ рокроХрпНроХ Activity Bar роЗро▓рпН Spring Boot роРроХро╛ройрпИроХрпН роХро╛рогро▓ро╛роорпН.

Spring Boot Dashboard роЗро▓рпН роЗро░рпБроирпНродрпБ, роирпАроЩрпНроХро│рпН:
- ро╡рпЗро▓рпИрокрпНрокроХрпБродро┐ропро┐ро▓рпН роЙро│рпНро│ роЕройрпИродрпНродрпБ Spring Boot роЪрпЖропро▓ро┐роХро│рпИропрпБроорпН роХро╛рогро▓ро╛роорпН
- роТро░рпБ роХро┐ро│ро┐роХрпНроХро┐ро▓рпН роЪрпЖропро▓ро┐роХро│рпИ родрпБро╡роХрпНроХ/роиро┐ро▒рпБродрпНродро▓ро╛роорпН
- роЪрпЖропро▓ро┐ рокродро┐ро╡рпБроХро│рпИ роирпЗро░роЯро┐ропро╛роХрокрпН рокро╛ро░рпНроХрпНроХро▓ро╛роорпН
- роЪрпЖропро▓ро┐ роиро┐ро▓рпИропрпИ роХрогрпНроХро╛рогро┐роХрпНроХро▓ро╛роорпН

"rag" рокроХрпНроХродрпНродро┐ро▓рпН роЙро│рпНро│ рокро┐ро│рпЗ рокрпКродрпНродро╛ройрпИ роХро┐ро│ро┐роХрпН роЪрпЖропрпНродрпБ роЗроирпНрод рооро╛роЯрпНропрпВро▓рпИ родрпБро╡роХрпНроХро▓ро╛роорпН, роЕро▓рпНро▓родрпБ роЕройрпИродрпНродрпБ рооро╛роЯрпНропрпВро▓рпНроХро│рпИропрпБроорпН роТро░рпЗ роирпЗро░родрпНродро┐ро▓рпН родрпБро╡роХрпНроХро▓ро╛роорпН.

<img src="../../../translated_images/dashboard.fbe6e28bf4267ffe.ta.png" alt="Spring Boot Dashboard" width="400"/>

**Option 2: Using shell scripts**

роЕройрпИродрпНродрпБ ро╡ро▓рпИ роЪрпЖропро▓ро┐роХро│рпИропрпБроорпН родрпБро╡роХрпНроХро╡рпБроорпН (рооро╛роЯрпНропрпВро▓рпНроХро│рпН 01-04):

**Bash:**
```bash
cd ..  # ро░рпВроЯрпН роЕроЯрпИро╡рпБ роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓ро┐ро░рпБроирпНродрпБ
./start-all.sh
```

**PowerShell:**
```powershell
cd ..  # ро░рпВроЯрпН роЕроЯрпИро╡рпБ роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓ро┐ро░рпБроирпНродрпБ
.\start-all.ps1
```

роЕро▓рпНро▓родрпБ роЗроирпНрод рооро╛роЯрпНропрпВро▓рпИ роороЯрпНроЯрпБроорпН родрпБро╡роХрпНроХро╡рпБроорпН:

**Bash:**
```bash
cd 03-rag
./start.sh
```

**PowerShell:**
```powershell
cd 03-rag
.\start.ps1
```

роЗро░рпБ ро╕рпНроХро┐ро░ро┐рокрпНроЯрпНроХро│рпБроорпН ро░рпВроЯрпН `.env` роХрпЛрокрпНрокро┐ро▓ро┐ро░рпБроирпНродрпБ роЪрпБро▒рпНро▒рпБроЪрпНроЪрпВро┤ро▓рпН рооро╛ро▒ро┐ро▓ро┐роХро│рпИ родро╛ройро╛роХ роПро▒рпНро▒рпБроорпН рооро▒рпНро▒рпБроорпН JAR роХрпЛрокрпНрокрпБроХро│рпН роЗро▓рпНро▓ро╛ро╡ро┐роЯрпНроЯро╛ро▓рпН роЕро╡ро▒рпНро▒рпИ роХроЯрпНроЯрпБроорпН.

> **Note:** роирпАроЩрпНроХро│рпН роЕройрпИродрпНродрпБ рооро╛роЯрпНропрпВро▓рпНроХро│рпИропрпБроорпН роХрпИропрпЗроЯрпБ роорпБро▒рпИропро┐ро▓рпН роХроЯрпНроЯро┐ рокро┐ро▒роХрпБ родрпБро╡роХрпНроХ ро╡ро┐ро░рпБроорпНрокро┐ройро╛ро▓рпН:
>
> **Bash:**
> ```bash
> cd ..  # Go to root directory
> mvn clean package -DskipTests
> ```
>
> **PowerShell:**
> ```powershell
> cd ..  # Go to root directory
> mvn clean package -DskipTests
> ```

роЙроЩрпНроХро│рпН роЙро▓ро╛ро╡ро┐ропро┐ро▓рпН http://localhost:8081 роР родро┐ро▒роХрпНроХро╡рпБроорпН.

**To stop:**

**Bash:**
```bash
./stop.sh  # роЗроирпНрод родрпКроХрпБродро┐ роороЯрпНроЯрпБроорпН
# роЕро▓рпНро▓родрпБ
cd .. && ./stop-all.sh  # роЕройрпИродрпНродрпБ родрпКроХрпБродро┐роХро│рпБроорпН
```

**PowerShell:**
```powershell
.\stop.ps1  # роЗроирпНрод родрпКроХрпБродро┐ роороЯрпНроЯрпБроорпН
# роЕро▓рпНро▓родрпБ
cd ..; .\stop-all.ps1  # роЕройрпИродрпНродрпБ родрпКроХрпБродро┐роХро│рпБроорпН
```

## Using the Application

роЗроирпНрод роЪрпЖропро▓ро┐ роЖро╡рогроЩрпНроХро│рпИ рокродро┐ро╡рпЗро▒рпНро▒ро╡рпБроорпН роХрпЗро│рпНро╡ро┐роХро│рпН роХрпЗроЯрпНроХро╡рпБроорпН роТро░рпБ ро╡ро▓рпИ роЗроЯрпИроорпБроХродрпНродрпИ ро╡ро┤роЩрпНроХрпБроХро┐ро▒родрпБ.

<a href="images/rag-homepage.png"><img src="../../../translated_images/rag-homepage.d90eb5ce1b3caa94.ta.png" alt="RAG Application Interface" width="800" style="border: 1px solid #ddd; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"/></a>

*RAG роЪрпЖропро▓ро┐ роЗроЯрпИроорпБроХроорпН - роЖро╡рогроЩрпНроХро│рпИ рокродро┐ро╡рпЗро▒рпНро▒ро╡рпБроорпН роХрпЗро│рпНро╡ро┐роХро│рпН роХрпЗроЯрпНроХро╡рпБроорпН*

**Upload a Document**

роорпБродро▓ро┐ро▓рпН роТро░рпБ роЖро╡рогродрпНродрпИ рокродро┐ро╡рпЗро▒рпНро▒ро╡рпБроорпН - TXT роХрпЛрокрпНрокрпБроХро│рпН роЪрпЛродройрпИроХрпНроХро╛роХ роЪро┐ро▒роирпНродро╡рпИ. роЗроирпНрод роЕроЯрпИро╡ро┐ро▓рпН `sample-document.txt` роЙро│рпНро│родрпБ, роЗродрпБ LangChain4j роЕроорпНроЪроЩрпНроХро│рпН, RAG роЪрпЖропро▓ро╛роХрпНроХроорпН рооро▒рпНро▒рпБроорпН роЪро┐ро▒роирпНрод роироЯрпИроорпБро▒рпИроХро│рпН рокро▒рпНро▒ро┐роп родроХро╡ро▓рпИ роХрпКрогрпНроЯрпБро│рпНро│родрпБ - роЕроорпИрокрпНрокрпИ роЪрпЛродро┐роХрпНроХ роЪро┐ро▒роирпНродродрпБ.

роЕроорпИрокрпНрокрпБ роЙроЩрпНроХро│рпН роЖро╡рогродрпНродрпИ роЪрпЖропро▓ро╛роХрпНроХро┐, родрпБрогрпНроЯрпБроХро│ро╛роХрокрпН рокро┐ро░ро┐родрпНродрпБ, роТро╡рпНро╡рпКро░рпБ родрпБрогрпНроЯрпБроХрпНроХрпБроорпН роОроорпНрокрпЖроЯрпНроЯро┐роЩрпНроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН. роЗродрпБ рокродро┐ро╡рпЗро▒рпНро▒рпБроорпНрокрпЛродрпБ родро╛ройро╛роХ роироЯроХрпНроХрпБроорпН.

**Ask Questions**

роЗрокрпНрокрпЛродрпБ роЖро╡рог роЙро│рпНро│роЯроХрпНроХродрпНродрпИрокрпН рокро▒рпНро▒ро┐ роХрпБро▒ро┐рокрпНрокро┐роЯрпНроЯ роХрпЗро│рпНро╡ро┐роХро│рпИ роХрпЗроЯрпНроХро╡рпБроорпН. роЖро╡рогродрпНродро┐ро▓рпН родрпЖро│ро┐ро╡ро╛роХ роХрпБро▒ро┐рокрпНрокро┐роЯрокрпНрокроЯрпНроЯ роЙрогрпНроорпИропро╛рой ро╡ро┐ро╖ропроЩрпНроХро│рпИ роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН. роЕроорпИрокрпНрокрпБ родрпКроЯро░рпНрокрпБроЯрпИроп родрпБрогрпНроЯрпБроХро│рпИ родрпЗроЯро┐, роЕро╡ро▒рпНро▒рпИ рокрпНро░ро╛роорпНрокрпНроЯро┐ро▓рпН роЪрпЗро░рпНродрпНродрпБ, рокродро┐ро▓рпИ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН.

**Check Source References**

роТро╡рпНро╡рпКро░рпБ рокродро┐ро▓рпБроорпН родрпКроЯро░рпНрокрпБроЯрпИроп роорпВро▓ роХрпБро▒ро┐рокрпНрокрпБроХро│рпБроЯройрпН similarity роородро┐рокрпНрокрпЖрогрпНроХро│рпИропрпБроорпН роХрпКрогрпНроЯро┐ро░рпБроХрпНроХрпБроорпН. роЗроирпНрод роородро┐рокрпНрокрпЖрогрпНроХро│рпН (0 роорпБродро▓рпН 1 ро╡ро░рпИ) роЙроЩрпНроХро│рпН роХрпЗро│рпНро╡ро┐роХрпНроХрпБ роТро╡рпНро╡рпКро░рпБ родрпБрогрпНроЯрпБроорпН роОро╡рпНро╡ро│ро╡рпБ родрпКроЯро░рпНрокрпБроЯрпИропродрпБ роОройрпНрокродрпИ роХро╛роЯрпНроЯрпБроорпН. роЕродро┐роХ роородро┐рокрпНрокрпЖрогрпНроХро│рпН роЪро┐ро▒роирпНрод рокрпКро░рпБродрпНродродрпНродрпИ роХрпБро▒ро┐роХрпНроХрпБроорпН. роЗродрпБ рокродро┐ро▓рпИ роорпВро▓рокрпН рокрпКро░рпБро│рпБроЯройрпН роТрокрпНрокро┐роЯ роЙродро╡рпБроорпН.

<a href="images/rag-query-results.png"><img src="../../../translated_images/rag-query-results.6d69fcec5397f355.ta.png" alt="RAG Query Results" width="800" style="border: 1px solid #ddd; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"/></a>

*роХрпЗро│рпНро╡ро┐ роорпБроЯро┐ро╡рпБроХро│рпН - рокродро┐ро▓рпН, роорпВро▓ роХрпБро▒ро┐рокрпНрокрпБроХро│рпН рооро▒рпНро▒рпБроорпН родрпКроЯро░рпНрокрпБ роородро┐рокрпНрокрпЖрогрпНроХро│рпБроЯройрпН*

**Experiment with Questions**

ро╡ро┐родро╡ро┐родрооро╛рой роХрпЗро│рпНро╡ро┐роХро│рпИ роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН:
- роХрпБро▒ро┐рокрпНрокро┐роЯрпНроЯ роЙрогрпНроорпИроХро│рпН: "роорпБроХрпНроХро┐роп родро▓рпИрокрпНрокрпБ роОройрпНрой?"
- роТрокрпНрокрпАроЯрпБроХро│рпН: "X рооро▒рпНро▒рпБроорпН Y роЗро▓рпН роОройрпНрой ро╡рпЗро▒рпБрокро╛роЯрпБ?"
- роЪрпБро░рпБроХрпНроХроЩрпНроХро│рпН: "Z рокро▒рпНро▒ро┐роп роорпБроХрпНроХро┐роп роЕроорпНроЪроЩрпНроХро│рпИ роЪрпБро░рпБроХрпНроХро╡рпБроорпН"

роЙроЩрпНроХро│рпН роХрпЗро│рпНро╡ро┐ роЖро╡рог роЙро│рпНро│роЯроХрпНроХродрпНродрпБроЯройрпН роОро╡рпНро╡ро│ро╡рпБ рокрпКро░рпБроирпНродрпБроХро┐ро▒родрпБ роОройрпНрокродройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН родрпКроЯро░рпНрокрпБ роородро┐рокрпНрокрпЖрогрпНроХро│рпН роОрокрпНрокроЯро┐ рооро╛ро▒рпБроХро┐ройрпНро▒рой роОройрпНрокродрпИ роХро╡ройро┐роХрпНроХро╡рпБроорпН.

## Key Concepts

**Chunking Strategy**

роЖро╡рогроЩрпНроХро│рпН 300-роЯрпЛроХрпНроХройрпН родрпБрогрпНроЯрпБроХро│ро╛роХ рокро┐ро░ро┐роХрпНроХрокрпНрокроЯрпБроХро┐ройрпНро▒рой, 30 роЯрпЛроХрпНроХройрпН роТроЯрпНроЯрпБроорпКродрпНродроорпН роЙро│рпНро│родрпБ. роЗроирпНрод роЪроороиро┐ро▓рпИ роТро╡рпНро╡рпКро░рпБ родрпБрогрпНроЯрпБроХрпНроХрпБроорпН рокрпКро░рпБродрпНродрооро╛рой роЪрпВро┤ро▓рпИ ро╡ро┤роЩрпНроХрпБроХро┐ро▒родрпБ рооро▒рпНро▒рпБроорпН рокрпНро░ро╛роорпНрокрпНроЯро┐ро▓рпН рокро▓ родрпБрогрпНроЯрпБроХро│рпИ роЪрпЗро░рпНроХрпНроХ роЪро┐ро▒ро┐ропродро╛роХ ро╡рпИродрпНродро┐ро░рпБроХрпНроХро┐ро▒родрпБ.

**Similarity Scores**

роородро┐рокрпНрокрпЖрогрпНроХро│рпН 0 роорпБродро▓рпН 1 ро╡ро░рпИ:
- 0.7-1.0: рооро┐роХро╡рпБроорпН родрпКроЯро░рпНрокрпБроЯрпИропродрпБ, роЪро░ро┐ропро╛рой рокрпКро░рпБродрпНродроорпН
- 0.5-0.7: родрпКроЯро░рпНрокрпБроЯрпИропродрпБ, роиро▓рпНро▓ роЪрпВро┤ро▓рпН
- 0.5 роХрпНроХрпБроХрпН роХрпАро┤рпН: ро╡роЯро┐роХроЯрпНроЯрокрпНрокроЯрпНроЯродрпБ, рооро┐роХро╡рпБроорпН ро╡рпЗро▒рпБрокроЯрпНроЯродрпБ

роЕроорпИрокрпНрокрпБ роХрпБро▒рпИроирпНродрокроЯрпНроЪ роОро▓рпНро▓рпИропрпИ роорпАро▒ро┐роп родрпБрогрпНроЯрпБроХро│рпИ роороЯрпНроЯрпБроорпЗ роорпАроЯрпНроЯрпЖроЯрпБроХрпНроХро┐ро▒родрпБ, роЗродрпБ родро░родрпНродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ.

**In-Memory Storage**

роЗроирпНрод рооро╛роЯрпНропрпВро▓рпН роОро│ро┐роорпИроХрпНроХро╛роХ роиро┐ройрпИро╡роХ роЪрпЗрооро┐рокрпНрокрпИ рокропройрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ. роЪрпЖропро▓ро┐ропрпИ роорпАрогрпНроЯрпБроорпН родрпБро╡роЩрпНроХрпБроорпНрокрпЛродрпБ, рокродро┐ро╡рпЗро▒рпНро▒рокрпНрокроЯрпНроЯ роЖро╡рогроЩрпНроХро│рпН роЗро┤роХрпНроХрокрпНрокроЯрпБроорпН. роЙро▒рпНрокродрпНродро┐ роЕроорпИрокрпНрокрпБроХро│рпН Qdrant роЕро▓рпНро▓родрпБ Azure AI Search рокрпЛройрпНро▒ роиро┐ро▓рпИропро╛рой ро╡рпЖроХрпНроЯро░рпН родро░ро╡рпБродрпНродро│роЩрпНроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБроХро┐ройрпНро▒рой.

**Context Window Management**

роТро╡рпНро╡рпКро░рпБ рооро╛родро┐ро░ро┐роХрпНроХрпБроорпН роЕродро┐роХрокроЯрпНроЪ роЪрпВро┤ро▓рпН роЬройрпНройро▓рпН роЙро│рпНро│родрпБ. рокрпЖро░ро┐роп роЖро╡рогродрпНродро┐ро▓ро┐ро░рпБроирпНродрпБ роЕройрпИродрпНродрпБ родрпБрогрпНроЯрпБроХро│рпИропрпБроорпН роЪрпЗро░рпНроХрпНроХ роорпБроЯро┐ропро╛родрпБ. роЕроорпИрокрпНрокрпБ рооро┐роХ родрпКроЯро░рпНрокрпБроЯрпИроп N родрпБрогрпНроЯрпБроХро│рпИ (роЗропро▓рпНрокро╛роХ 5) роорпАроЯрпНроЯрпЖроЯрпБродрпНродрпБ, ро╡ро░роорпНрокрпБроХрпНроХрпБро│рпН роЗро░рпБроирпНродрпБ роЪро░ро┐ропро╛рой рокродро┐ро▓рпНроХро│рпИ ро╡ро┤роЩрпНроХрпБроорпН рокрпЛродрпБрооро╛рой роЪрпВро┤ро▓рпИ ро╡ро┤роЩрпНроХрпБроХро┐ро▒родрпБ.

## When RAG Matters

**RAG рокропройрпНрокроЯрпБродрпНрод ро╡рпЗрогрпНроЯро┐роп рокрпЛродрпБ:**
- роЪрпКроирпНрод роЖро╡рогроЩрпНроХро│рпН рокро▒рпНро▒ро┐роп роХрпЗро│рпНро╡ро┐роХро│рпБроХрпНроХрпБ рокродро┐ро▓ро│ро┐роХрпНроХ
- родроХро╡ро▓рпН роЕроЯро┐роХрпНроХроЯро┐ рооро╛ро▒рпБроорпН рокрпЛродрпБ (роХрпКро│рпНроХрпИроХро│рпН, ро╡ро┐ро▓рпИроХро│рпН, ро╡ро┐ро╡ро░роХрпНроХрпБро▒ро┐рокрпНрокрпБроХро│рпН)
- родрпБро▓рпНро▓ро┐ропродрпНродрпБроХрпНроХрпБ роорпВро▓ роЖродро╛ро░роЩрпНроХро│рпН родрпЗро╡рпИрокрпНрокроЯрпБроорпН рокрпЛродрпБ
- роЙро│рпНро│роЯроХрпНроХроорпН роТро░рпБ рокрпНро░ро╛роорпНрокрпНроЯро┐ро▓рпН роЪрпЗро░рпНроХрпНроХ роорпБроЯро┐ропро╛род роЕро│ро╡рпБ рокрпЖро░ро┐ропродрпБ
- роЪро░ро┐рокро╛ро░рпНроХрпНроХроХрпНроХрпВроЯро┐роп, роиро┐ро▓рпИропро╛рой рокродро┐ро▓рпНроХро│рпН родрпЗро╡рпИрокрпНрокроЯрпБроорпН рокрпЛродрпБ

**RAG рокропройрпНрокроЯрпБродрпНрод ро╡рпЗрогрпНроЯро╛роорпН:**
- рооро╛родро┐ро░ро┐роХрпНроХрпБ роПро▒рпНроХройро╡рпЗ роЙро│рпНро│ рокрпКродрпБро╡ро╛рой роЕро▒ро┐ро╡рпБ родрпЗро╡рпИрокрпНрокроЯрпБроорпН роХрпЗро│рпНро╡ро┐роХро│рпН
- роирпЗро░роЯро┐ родро░ро╡рпБ родрпЗро╡рпИрокрпНрокроЯрпБроорпН рокрпЛродрпБ (RAG рокродро┐ро╡рпЗро▒рпНро▒рокрпНрокроЯрпНроЯ роЖро╡рогроЩрпНроХро│ро┐ро▓рпН ро╡рпЗро▓рпИ роЪрпЖропрпНроХро┐ро▒родрпБ)
- роЙро│рпНро│роЯроХрпНроХроорпН роирпЗро░роЯро┐ропро╛роХ рокрпНро░ро╛роорпНрокрпНроЯро┐ро▓рпН роЪрпЗро░рпНроХрпНроХроХрпНроХрпВроЯро┐роп роЕро│ро╡рпБ роЪро┐ро▒ро┐ропродрпБ

## Next Steps

**Next Module:** [04-tools - AI Agents with Tools](../04-tools/README.md)

---

**Navigation:** [тЖР Previous: Module 02 - Prompt Engineering](../02-prompt-engineering/README.md) | [Back to Main](../README.md) | [Next: Module 04 - Tools тЖТ](../04-tools/README.md)

---

<!-- CO-OP TRANSLATOR DISCLAIMER START -->
**роХрпБро▒ро┐рокрпНрокрпБ**:  
роЗроирпНрод роЖро╡рогроорпН AI роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ роЪрпЗро╡рпИ [Co-op Translator](https://github.com/Azure/co-op-translator) роорпВро▓роорпН роорпКро┤ро┐рокрпЖропро░рпНроХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. роиро╛роЩрпНроХро│рпН родрпБро▓рпНро▓ро┐ропродрпНродро┐ро▒рпНроХро╛роХ роорпБропро▒рпНроЪро┐родрпНродро╛ро▓рпБроорпН, родро╛ройро┐ропроЩрпНроХро┐ роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБроХро│ро┐ро▓рпН рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ родро╡ро▒рпБроХро│рпН роЗро░рпБроХрпНроХроХрпНроХрпВроЯрпБроорпН роОройрпНрокродрпИ родропро╡рпБроЪрпЖропрпНродрпБ роХро╡ройро┐роХрпНроХро╡рпБроорпН. роЕроЪро▓рпН роЖро╡рогроорпН роЕродройрпН роЪрпКроирпНрод роорпКро┤ро┐ропро┐ро▓рпН роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ роорпВро▓рооро╛роХ роХро░рпБродрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роорпБроХрпНроХро┐ропрооро╛рой родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ, родрпКро┤ро┐ро▓рпНроорпБро▒рпИ рооройро┐род роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокрпБ рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЗроирпНрод роорпКро┤ро┐рокрпЖропро░рпНрокрпНрокро┐ройрпН рокропройрпНрокро╛роЯрпНроЯро╛ро▓рпН роПро▒рпНрокроЯрпБроорпН роОроирпНродро╡рпКро░рпБ родро╡ро▒ро╛рой рокрпБро░ро┐родро▓рпБроХрпНроХрпБроорпН роЕро▓рпНро▓родрпБ родро╡ро▒ро╛рой ро╡ро┐ро│роХрпНроХроЩрпНроХро│рпБроХрпНроХрпБроорпН роиро╛роЩрпНроХро│рпН рокрпКро▒рпБрокрпНрокрпЗро▒рпНроХрооро╛роЯрпНроЯрпЛроорпН.
<!-- CO-OP TRANSLATOR DISCLAIMER END -->